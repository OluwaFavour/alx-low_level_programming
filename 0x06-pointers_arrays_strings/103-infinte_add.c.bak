#include "main.h"
#include <stddef.h>

/**
 * reverse_string - reverse array
 * @s: string to be reversed
 * Return: void
 */

void reverse_string(char *s)
{
	int i, len = 0;
	char temp;

	if (s == NULL || *s == '\0')
		return;

	while (*(s + len) != '\0')
		len++;

	len--;

	for (i = 0; i < len; i++, len--)
	{
		temp = *(s + i);
		*(s + i) = *(s + len);
		*(s + len) = temp;
	}
}

/**
 * infinite_add - add two numbers together
 * @n1: text representation of first number to add
 * @n2: text representation of second number to add
 * @r: pointer to buffer
 * @size_r: buffer size
 * Return: pointer to calling function
 */

char *infinite_add(char *n1, char *n2, char *r, int size_r)
{
	int len1 = 0, len2 = 0, i, j, carry = 0, sum;
	char *p1 = n1, *p2 = n2, *pr = r;

	if (n1 == NULL || n2 == NULL || r == NULL || size_r < 1)
		return (NULL);

	while (*p1++)
		len1++;
	while (*p2++)
		len2++;

	if (len1 + len2 + 1 > size_r)
		return (NULL);

	p1--;
	p2--;

	for (i = 0, j = 0; i < len1 || j < len2 || carry; i++, j++)
	{
		if (i < len1)
			sum = *(p1 - i) - '0';
		else
			sum = 0;

		if (j < len2)
			sum += *(p2 - j) - '0';

		sum += carry;
		carry = sum / 10;
		*(pr + i) = (sum % 10) + '0';
	}

	*(pr + i) = '\0';

	reverse_string(r);

	return (r);
}
